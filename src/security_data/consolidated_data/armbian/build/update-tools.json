{
  "repo_owner": "armbian",
  "repo_name": "build",
  "workflow_name": "update-tools",
  "history": {
    "2024-07-18T09-54-02Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "update-tools__2024-07-18T09-54-02Z__b6b8a89f10d26917fbe99cb21f60d9fcf0ea20fb.yml",
          "workflow_name": "Update Tools in Scripts",
          "triggers": {},
          "permissions": {
            "contents": "write",
            "pull-requests": "write"
          },
          "concurrency": null,
          "defaults": null,
          "line_count": 118,
          "num_jobs": 1,
          "steps_per_job": {
            "update-tool-version": 5
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 1,
            "num_triggers_defined": 0
          },
          "job_level": {
            "num_steps_per_job": {
              "update-tool-version": 5
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 2,
            "actions_used": [
              "actions/checkout@v4",
              "peter-evans/create-pull-request@v6"
            ],
            "num_run_commands": 3,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "Update Tools in Scripts",
        "run-name": "Update Tools in Scripts by @${{ github.actor }}",
        "permissions": {
          "contents": "write",
          "pull-requests": "write"
        },
        "true": {
          "workflow_dispatch": null,
          "schedule": [
            {
              "cron": "42 3 16 * *"
            }
          ]
        },
        "jobs": {
          "update-tool-version": {
            "name": "Update ${{ matrix.tool.REPO_NAME }} version",
            "runs-on": "ubuntu-latest",
            "strategy": {
              "matrix": {
                "tool": [
                  {
                    "USER_NAME": "koalaman",
                    "REPO_NAME": "shellcheck",
                    "PROJECT_NAME": "koalaman/shellcheck",
                    "VAR_FILE": "lib/tools/shellcheck.sh",
                    "VERSION_VAR": "SHELLCHECK_VERSION"
                  },
                  {
                    "USER_NAME": "koalaman",
                    "REPO_NAME": "shellcheck",
                    "PROJECT_NAME": "koalaman/shellcheck",
                    "VAR_FILE": "lib/functions/general/shellcheck.sh",
                    "VERSION_VAR": "SHELLCHECK_VERSION"
                  },
                  {
                    "USER_NAME": "mvdan",
                    "REPO_NAME": "sh",
                    "PROJECT_NAME": "mvdan/sh",
                    "VAR_FILE": "lib/tools/shellfmt.sh",
                    "VERSION_VAR": "SHELLFMT_VERSION"
                  },
                  {
                    "USER_NAME": "oras-project",
                    "REPO_NAME": "oras",
                    "PROJECT_NAME": "oras-project/oras",
                    "VAR_FILE": "lib/functions/general/oci-oras.sh",
                    "VERSION_VAR": "ORAS_VERSION"
                  },
                  {
                    "USER_NAME": "sharkdp",
                    "REPO_NAME": "bat",
                    "PROJECT_NAME": "sharkdp/bat",
                    "VAR_FILE": "lib/functions/general/bat-cat.sh",
                    "VERSION_VAR": "BATCAT_VERSION"
                  }
                ]
              }
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Get current ${{ matrix.tool.PROJECT_NAME }} version",
                "id": "get-version-current",
                "run": "version_current=$(grep -Po '(?<=${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-)[0-9.]+(?=})' ${{ matrix.tool.VAR_FILE }})\necho \"version_current=$version_current\" >> $GITHUB_OUTPUT\n"
              },
              {
                "name": "Get latest ${{ matrix.tool.PROJECT_NAME }} version",
                "id": "get-version-latest",
                "run": "version_latest=$(curl --silent \"https://api.github.com/repos/${{ matrix.tool.PROJECT_NAME }}/releases/latest\" | jq -r .tag_name)\nversion_latest=${version_latest#v}                        # Removing the 'v' prefix since the script uses only plain numbers\necho \"version_latest=$version_latest\" >> $GITHUB_OUTPUT                                                                                \n{\n  echo \"CHANGE_LOG<<EOFFEOFFF42\"                          # Has to be a unique delimiter that doesn't appear in the changelog itself\n  curl --silent \"https://api.github.com/repos/${{ matrix.tool.PROJECT_NAME }}/releases/latest\" | jq -r .body \\\n  | sed -E -e 's/(#([0-9]+))/${{ matrix.tool.USER_NAME }}\\/${{ matrix.tool.REPO_NAME }}\\1/g' \\\n  -e 's/https\\:\\/\\/github\\.com/https\\:\\/\\/redirect.github.com/g'\n  echo \"EOFFEOFFF42\"\n} >> \"$GITHUB_ENV\"\n"
              },
              {
                "name": "Update ${{ matrix.tool.VERSION_VAR}} in script",
                "run": "version_latest=${{ steps.get-version-latest.outputs.version_latest }}\nsed -i \"s/${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-[0-9.]*}/${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-$version_latest}/g\" ${{ matrix.tool.VAR_FILE }}\n"
              },
              {
                "name": "Create Pull Request to update ${{ matrix.tool.VERSION_VAR}} for ${{ matrix.tool.PROJECT_NAME }}",
                "uses": "peter-evans/create-pull-request@v6",
                "with": {
                  "token": "${{ secrets.GITHUB_TOKEN }}",
                  "commit-message": "tools: Bump `${{ matrix.tool.VERSION_VAR}}` from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }}",
                  "branch": "update-version-${{ matrix.tool.VAR_FILE }}-${{ matrix.tool.PROJECT_NAME }}-${{ steps.get-version-latest.outputs.version_latest }}",
                  "delete-branch": true,
                  "title": "Bump ${{ matrix.tool.PROJECT_NAME}} from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }} in `${{ matrix.tool.VAR_FILE}}`",
                  "body": "Bump [${{ matrix.tool.PROJECT_NAME}}](https://github.com/${{ matrix.tool.PROJECT_NAME }}) from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }} by bumping `${{ matrix.tool.VERSION_VAR}}` in `${{ matrix.tool.VAR_FILE}}`.\n\n<details><summary><b>Release notes</b></summary>\n<p><em>Sourced from <a href=\"https://github.com/${{ matrix.tool.PROJECT_NAME }}/releases\">${{ matrix.tool.PROJECT_NAME }}'s releases</a>.\n<br>Please note that this only shows the release notes for the latest release.</em></p>\n<blockquote>\n\n${{ env.CHANGE_LOG }}\n\n</blockquote>\n</details>\n",
                  "labels": "Dependencies, Bash"
                }
              }
            ]
          }
        }
      }
    },
    "2024-09-10T19-58-13Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "update-tools__2024-09-10T19-58-13Z__cabed2ad7d4963f01e33bdf82556a623bc334421.yml",
          "workflow_name": "Update Tools in Scripts",
          "triggers": {},
          "permissions": {
            "contents": "write",
            "pull-requests": "write"
          },
          "concurrency": null,
          "defaults": null,
          "line_count": 118,
          "num_jobs": 1,
          "steps_per_job": {
            "update-tool-version": 5
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 1,
            "num_triggers_defined": 0
          },
          "job_level": {
            "num_steps_per_job": {
              "update-tool-version": 5
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 2,
            "actions_used": [
              "actions/checkout@v4",
              "peter-evans/create-pull-request@v7"
            ],
            "num_run_commands": 3,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "Update Tools in Scripts",
        "run-name": "Update Tools in Scripts by @${{ github.actor }}",
        "permissions": {
          "contents": "write",
          "pull-requests": "write"
        },
        "true": {
          "workflow_dispatch": null,
          "schedule": [
            {
              "cron": "42 3 16 * *"
            }
          ]
        },
        "jobs": {
          "update-tool-version": {
            "name": "Update ${{ matrix.tool.REPO_NAME }} version",
            "runs-on": "ubuntu-latest",
            "strategy": {
              "matrix": {
                "tool": [
                  {
                    "USER_NAME": "koalaman",
                    "REPO_NAME": "shellcheck",
                    "PROJECT_NAME": "koalaman/shellcheck",
                    "VAR_FILE": "lib/tools/shellcheck.sh",
                    "VERSION_VAR": "SHELLCHECK_VERSION"
                  },
                  {
                    "USER_NAME": "koalaman",
                    "REPO_NAME": "shellcheck",
                    "PROJECT_NAME": "koalaman/shellcheck",
                    "VAR_FILE": "lib/functions/general/shellcheck.sh",
                    "VERSION_VAR": "SHELLCHECK_VERSION"
                  },
                  {
                    "USER_NAME": "mvdan",
                    "REPO_NAME": "sh",
                    "PROJECT_NAME": "mvdan/sh",
                    "VAR_FILE": "lib/tools/shellfmt.sh",
                    "VERSION_VAR": "SHELLFMT_VERSION"
                  },
                  {
                    "USER_NAME": "oras-project",
                    "REPO_NAME": "oras",
                    "PROJECT_NAME": "oras-project/oras",
                    "VAR_FILE": "lib/functions/general/oci-oras.sh",
                    "VERSION_VAR": "ORAS_VERSION"
                  },
                  {
                    "USER_NAME": "sharkdp",
                    "REPO_NAME": "bat",
                    "PROJECT_NAME": "sharkdp/bat",
                    "VAR_FILE": "lib/functions/general/bat-cat.sh",
                    "VERSION_VAR": "BATCAT_VERSION"
                  }
                ]
              }
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Get current ${{ matrix.tool.PROJECT_NAME }} version",
                "id": "get-version-current",
                "run": "version_current=$(grep -Po '(?<=${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-)[0-9.]+(?=})' ${{ matrix.tool.VAR_FILE }})\necho \"version_current=$version_current\" >> $GITHUB_OUTPUT\n"
              },
              {
                "name": "Get latest ${{ matrix.tool.PROJECT_NAME }} version",
                "id": "get-version-latest",
                "run": "version_latest=$(curl --silent \"https://api.github.com/repos/${{ matrix.tool.PROJECT_NAME }}/releases/latest\" | jq -r .tag_name)\nversion_latest=${version_latest#v}                        # Removing the 'v' prefix since the script uses only plain numbers\necho \"version_latest=$version_latest\" >> $GITHUB_OUTPUT                                                                                \n{\n  echo \"CHANGE_LOG<<EOFFEOFFF42\"                          # Has to be a unique delimiter that doesn't appear in the changelog itself\n  curl --silent \"https://api.github.com/repos/${{ matrix.tool.PROJECT_NAME }}/releases/latest\" | jq -r .body \\\n  | sed -E -e 's/(#([0-9]+))/${{ matrix.tool.USER_NAME }}\\/${{ matrix.tool.REPO_NAME }}\\1/g' \\\n  -e 's/https\\:\\/\\/github\\.com/https\\:\\/\\/redirect.github.com/g'\n  echo \"EOFFEOFFF42\"\n} >> \"$GITHUB_ENV\"\n"
              },
              {
                "name": "Update ${{ matrix.tool.VERSION_VAR}} in script",
                "run": "version_latest=${{ steps.get-version-latest.outputs.version_latest }}\nsed -i \"s/${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-[0-9.]*}/${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-$version_latest}/g\" ${{ matrix.tool.VAR_FILE }}\n"
              },
              {
                "name": "Create Pull Request to update ${{ matrix.tool.VERSION_VAR}} for ${{ matrix.tool.PROJECT_NAME }}",
                "uses": "peter-evans/create-pull-request@v7",
                "with": {
                  "token": "${{ secrets.GITHUB_TOKEN }}",
                  "commit-message": "tools: Bump `${{ matrix.tool.VERSION_VAR}}` from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }}",
                  "branch": "update-version-${{ matrix.tool.VAR_FILE }}-${{ matrix.tool.PROJECT_NAME }}-${{ steps.get-version-latest.outputs.version_latest }}",
                  "delete-branch": true,
                  "title": "Bump ${{ matrix.tool.PROJECT_NAME}} from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }} in `${{ matrix.tool.VAR_FILE}}`",
                  "body": "Bump [${{ matrix.tool.PROJECT_NAME}}](https://github.com/${{ matrix.tool.PROJECT_NAME }}) from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }} by bumping `${{ matrix.tool.VERSION_VAR}}` in `${{ matrix.tool.VAR_FILE}}`.\n\n<details><summary><b>Release notes</b></summary>\n<p><em>Sourced from <a href=\"https://github.com/${{ matrix.tool.PROJECT_NAME }}/releases\">${{ matrix.tool.PROJECT_NAME }}'s releases</a>.\n<br>Please note that this only shows the release notes for the latest release.</em></p>\n<blockquote>\n\n${{ env.CHANGE_LOG }}\n\n</blockquote>\n</details>\n",
                  "labels": "Dependencies, Bash"
                }
              }
            ]
          }
        }
      }
    },
    "2025-01-21T12-26-44Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "update-tools__2025-01-21T12-26-44Z__1fdd8019083005f4d138ac0fba33b8e4715f1cb3.yml",
          "workflow_name": "Update Tools in Scripts",
          "triggers": {},
          "permissions": {
            "contents": "write",
            "pull-requests": "write"
          },
          "concurrency": null,
          "defaults": null,
          "line_count": 104,
          "num_jobs": 1,
          "steps_per_job": {
            "update-tool-version": 5
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 1,
            "num_triggers_defined": 0
          },
          "job_level": {
            "num_steps_per_job": {
              "update-tool-version": 5
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 2,
            "actions_used": [
              "actions/checkout@v4",
              "peter-evans/create-pull-request@v7"
            ],
            "num_run_commands": 3,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "Update Tools in Scripts",
        "run-name": "Update Tools in Scripts by @${{ github.actor }}",
        "permissions": {
          "contents": "write",
          "pull-requests": "write"
        },
        "true": {
          "workflow_dispatch": null,
          "schedule": [
            {
              "cron": "42 3 16 * *"
            }
          ]
        },
        "jobs": {
          "update-tool-version": {
            "name": "Update ${{ matrix.tool.REPO_NAME }} version",
            "runs-on": "ubuntu-latest",
            "strategy": {
              "matrix": {
                "tool": [
                  {
                    "USER_NAME": "koalaman",
                    "REPO_NAME": "shellcheck",
                    "PROJECT_NAME": "koalaman/shellcheck",
                    "VAR_FILE": "lib/tools/shellcheck.sh",
                    "VERSION_VAR": "SHELLCHECK_VERSION"
                  },
                  {
                    "USER_NAME": "koalaman",
                    "REPO_NAME": "shellcheck",
                    "PROJECT_NAME": "koalaman/shellcheck",
                    "VAR_FILE": "lib/functions/general/shellcheck.sh",
                    "VERSION_VAR": "SHELLCHECK_VERSION"
                  },
                  {
                    "USER_NAME": "mvdan",
                    "REPO_NAME": "sh",
                    "PROJECT_NAME": "mvdan/sh",
                    "VAR_FILE": "lib/tools/shellfmt.sh",
                    "VERSION_VAR": "SHELLFMT_VERSION"
                  },
                  {
                    "USER_NAME": "oras-project",
                    "REPO_NAME": "oras",
                    "PROJECT_NAME": "oras-project/oras",
                    "VAR_FILE": "lib/functions/general/oci-oras.sh",
                    "VERSION_VAR": "ORAS_VERSION"
                  },
                  {
                    "USER_NAME": "sharkdp",
                    "REPO_NAME": "bat",
                    "PROJECT_NAME": "sharkdp/bat",
                    "VAR_FILE": "lib/functions/general/bat-cat.sh",
                    "VERSION_VAR": "BATCAT_VERSION"
                  }
                ]
              }
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Get current ${{ matrix.tool.PROJECT_NAME }} version",
                "id": "get-version-current",
                "run": "version_current=$(grep -Po '(?<=${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-)[0-9.]+(?=})' ${{ matrix.tool.VAR_FILE }})\necho \"version_current=$version_current\" >> $GITHUB_OUTPUT\n"
              },
              {
                "name": "Get latest ${{ matrix.tool.PROJECT_NAME }} version",
                "id": "get-version-latest",
                "run": "version_latest=$(curl --silent \"https://api.github.com/repos/${{ matrix.tool.PROJECT_NAME }}/releases/latest\" | jq -r .tag_name)\nversion_latest=${version_latest#v}                        # Removing the 'v' prefix since the script uses only plain numbers\necho \"version_latest=$version_latest\" >> $GITHUB_OUTPUT                                                                                \n"
              },
              {
                "name": "Update ${{ matrix.tool.VERSION_VAR}} in script",
                "run": "version_latest=${{ steps.get-version-latest.outputs.version_latest }}\nsed -i \"s/${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-[0-9.]*}/${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-$version_latest}/g\" ${{ matrix.tool.VAR_FILE }}\n"
              },
              {
                "name": "Create Pull Request to update ${{ matrix.tool.VERSION_VAR}} for ${{ matrix.tool.PROJECT_NAME }}",
                "uses": "peter-evans/create-pull-request@v7",
                "with": {
                  "token": "${{ secrets.GITHUB_TOKEN }}",
                  "commit-message": "tools: Bump `${{ matrix.tool.VERSION_VAR}}` from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }}",
                  "branch": "update-version-${{ matrix.tool.VAR_FILE }}-${{ matrix.tool.PROJECT_NAME }}-${{ steps.get-version-latest.outputs.version_latest }}",
                  "delete-branch": true,
                  "title": "Bump ${{ matrix.tool.PROJECT_NAME}} from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }} in `${{ matrix.tool.VAR_FILE}}`",
                  "body": "Bump [${{ matrix.tool.PROJECT_NAME}}](https://github.com/${{ matrix.tool.PROJECT_NAME }}) from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }} by bumping `${{ matrix.tool.VERSION_VAR}}` in `${{ matrix.tool.VAR_FILE}}`.\n\nCheck <a href=\"https://github.com/${{ matrix.tool.PROJECT_NAME }}/releases/latest\">the upstream release notes</a>.\n<p><em>Please note that the above link only shows the release notes for the latest release.</em></p>\n",
                  "labels": "Dependencies, Bash"
                }
              }
            ]
          }
        }
      }
    },
    "2025-08-13T03-42-34Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "update-tools__2025-08-13T03-42-34Z__27e0b701906349a61acca534780922e22f6e44d7.yml",
          "workflow_name": "Update Tools in Scripts",
          "triggers": {},
          "permissions": {
            "contents": "write",
            "pull-requests": "write"
          },
          "concurrency": null,
          "defaults": null,
          "line_count": 104,
          "num_jobs": 1,
          "steps_per_job": {
            "update-tool-version": 5
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 1,
            "num_triggers_defined": 0
          },
          "job_level": {
            "num_steps_per_job": {
              "update-tool-version": 5
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 2,
            "actions_used": [
              "actions/checkout@v5",
              "peter-evans/create-pull-request@v7"
            ],
            "num_run_commands": 3,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "Update Tools in Scripts",
        "run-name": "Update Tools in Scripts by @${{ github.actor }}",
        "permissions": {
          "contents": "write",
          "pull-requests": "write"
        },
        "true": {
          "workflow_dispatch": null,
          "schedule": [
            {
              "cron": "42 3 16 * *"
            }
          ]
        },
        "jobs": {
          "update-tool-version": {
            "name": "Update ${{ matrix.tool.REPO_NAME }} version",
            "runs-on": "ubuntu-latest",
            "strategy": {
              "matrix": {
                "tool": [
                  {
                    "USER_NAME": "koalaman",
                    "REPO_NAME": "shellcheck",
                    "PROJECT_NAME": "koalaman/shellcheck",
                    "VAR_FILE": "lib/tools/shellcheck.sh",
                    "VERSION_VAR": "SHELLCHECK_VERSION"
                  },
                  {
                    "USER_NAME": "koalaman",
                    "REPO_NAME": "shellcheck",
                    "PROJECT_NAME": "koalaman/shellcheck",
                    "VAR_FILE": "lib/functions/general/shellcheck.sh",
                    "VERSION_VAR": "SHELLCHECK_VERSION"
                  },
                  {
                    "USER_NAME": "mvdan",
                    "REPO_NAME": "sh",
                    "PROJECT_NAME": "mvdan/sh",
                    "VAR_FILE": "lib/tools/shellfmt.sh",
                    "VERSION_VAR": "SHELLFMT_VERSION"
                  },
                  {
                    "USER_NAME": "oras-project",
                    "REPO_NAME": "oras",
                    "PROJECT_NAME": "oras-project/oras",
                    "VAR_FILE": "lib/functions/general/oci-oras.sh",
                    "VERSION_VAR": "ORAS_VERSION"
                  },
                  {
                    "USER_NAME": "sharkdp",
                    "REPO_NAME": "bat",
                    "PROJECT_NAME": "sharkdp/bat",
                    "VAR_FILE": "lib/functions/general/bat-cat.sh",
                    "VERSION_VAR": "BATCAT_VERSION"
                  }
                ]
              }
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v5"
              },
              {
                "name": "Get current ${{ matrix.tool.PROJECT_NAME }} version",
                "id": "get-version-current",
                "run": "version_current=$(grep -Po '(?<=${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-)[0-9.]+(?=})' ${{ matrix.tool.VAR_FILE }})\necho \"version_current=$version_current\" >> $GITHUB_OUTPUT\n"
              },
              {
                "name": "Get latest ${{ matrix.tool.PROJECT_NAME }} version",
                "id": "get-version-latest",
                "run": "version_latest=$(curl --silent \"https://api.github.com/repos/${{ matrix.tool.PROJECT_NAME }}/releases/latest\" | jq -r .tag_name)\nversion_latest=${version_latest#v}                        # Removing the 'v' prefix since the script uses only plain numbers\necho \"version_latest=$version_latest\" >> $GITHUB_OUTPUT                                                                                \n"
              },
              {
                "name": "Update ${{ matrix.tool.VERSION_VAR}} in script",
                "run": "version_latest=${{ steps.get-version-latest.outputs.version_latest }}\nsed -i \"s/${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-[0-9.]*}/${{ matrix.tool.VERSION_VAR}}=\\${${{ matrix.tool.VERSION_VAR}}:-$version_latest}/g\" ${{ matrix.tool.VAR_FILE }}\n"
              },
              {
                "name": "Create Pull Request to update ${{ matrix.tool.VERSION_VAR}} for ${{ matrix.tool.PROJECT_NAME }}",
                "uses": "peter-evans/create-pull-request@v7",
                "with": {
                  "token": "${{ secrets.GITHUB_TOKEN }}",
                  "commit-message": "tools: Bump `${{ matrix.tool.VERSION_VAR}}` from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }}",
                  "branch": "update-version-${{ matrix.tool.VAR_FILE }}-${{ matrix.tool.PROJECT_NAME }}-${{ steps.get-version-latest.outputs.version_latest }}",
                  "delete-branch": true,
                  "title": "Bump ${{ matrix.tool.PROJECT_NAME}} from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }} in `${{ matrix.tool.VAR_FILE}}`",
                  "body": "Bump [${{ matrix.tool.PROJECT_NAME}}](https://github.com/${{ matrix.tool.PROJECT_NAME }}) from ${{ steps.get-version-current.outputs.version_current }} to ${{ steps.get-version-latest.outputs.version_latest }} by bumping `${{ matrix.tool.VERSION_VAR}}` in `${{ matrix.tool.VAR_FILE}}`.\n\nCheck <a href=\"https://github.com/${{ matrix.tool.PROJECT_NAME }}/releases/latest\">the upstream release notes</a>.\n<p><em>Please note that the above link only shows the release notes for the latest release.</em></p>\n",
                  "labels": "Dependencies, Bash"
                }
              }
            ]
          }
        }
      }
    }
  }
}