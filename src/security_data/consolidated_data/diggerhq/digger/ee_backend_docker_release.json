{
  "repo_owner": "diggerhq",
  "repo_name": "digger",
  "workflow_name": "ee_backend_docker_release",
  "history": {
    "2024-05-16T09-36-02Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "ee_backend_docker_release__2024-05-16T09-36-02Z__a34a3b190537add9a9d3ba4e93d2c5accf8a7291.yml",
          "workflow_name": "EE Backend Publish docker image",
          "triggers": {},
          "permissions": null,
          "concurrency": null,
          "defaults": null,
          "line_count": 45,
          "num_jobs": 1,
          "steps_per_job": {
            "build-and-push-image": 4
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 0,
            "num_triggers_defined": 0
          },
          "job_level": {
            "num_steps_per_job": {
              "build-and-push-image": 4
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 4,
            "actions_used": [
              "actions/checkout@v4",
              "docker/build-push-action@v5.3.0",
              "docker/login-action@7840e6ddd4a9223910798f6a315544257fccd96e",
              "docker/metadata-action@v5.5.1"
            ],
            "num_run_commands": 0,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "EE Backend Publish docker image",
        "true": {
          "release": {
            "types": [
              "released"
            ]
          }
        },
        "env": {
          "REGISTRY": "ghcr.io",
          "IMAGE_NAME": "${{ github.repository }}_backend_ee"
        },
        "jobs": {
          "build-and-push-image": {
            "if": "(startswith(github.event.release.tag_name, 'v'))",
            "runs-on": "ubuntu-latest",
            "permissions": {
              "contents": "read",
              "packages": "write"
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Log in to the Container registry",
                "uses": "docker/login-action@7840e6ddd4a9223910798f6a315544257fccd96e",
                "with": {
                  "registry": "${{ env.REGISTRY }}",
                  "username": "${{ github.actor }}",
                  "password": "${{ secrets.GITHUB_TOKEN }}"
                }
              },
              {
                "name": "Extract metadata (tags, labels) for Docker",
                "id": "meta",
                "uses": "docker/metadata-action@v5.5.1",
                "with": {
                  "images": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}"
                }
              },
              {
                "name": "Build and push Docker image",
                "uses": "docker/build-push-action@v5.3.0",
                "with": {
                  "context": ".",
                  "file": "Dockerfile_backend",
                  "push": true,
                  "tags": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest, ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.event.release.tag_name }}",
                  "labels": "${{ steps.meta.outputs.labels }}"
                }
              }
            ]
          }
        }
      }
    },
    "2024-05-20T15-28-38Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "ee_backend_docker_release__2024-05-20T15-28-38Z__0cf3e1979b41ba0652f5fa79a07de31774c93fa9.yml",
          "workflow_name": "EE Backend Publish docker image",
          "triggers": {},
          "permissions": null,
          "concurrency": null,
          "defaults": null,
          "line_count": 45,
          "num_jobs": 1,
          "steps_per_job": {
            "build-and-push-image": 4
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 0,
            "num_triggers_defined": 0
          },
          "job_level": {
            "num_steps_per_job": {
              "build-and-push-image": 4
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 4,
            "actions_used": [
              "actions/checkout@v4",
              "docker/build-push-action@v5.3.0",
              "docker/login-action@7840e6ddd4a9223910798f6a315544257fccd96e",
              "docker/metadata-action@v5.5.1"
            ],
            "num_run_commands": 0,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "EE Backend Publish docker image",
        "true": {
          "release": {
            "types": [
              "released"
            ]
          }
        },
        "env": {
          "REGISTRY": "ghcr.io",
          "IMAGE_NAME": "${{ github.repository }}_backend_ee"
        },
        "jobs": {
          "build-and-push-image": {
            "if": "(startswith(github.event.release.tag_name, 'v'))",
            "runs-on": "ubuntu-latest",
            "permissions": {
              "contents": "read",
              "packages": "write"
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Log in to the Container registry",
                "uses": "docker/login-action@7840e6ddd4a9223910798f6a315544257fccd96e",
                "with": {
                  "registry": "${{ env.REGISTRY }}",
                  "username": "${{ github.actor }}",
                  "password": "${{ secrets.GITHUB_TOKEN }}"
                }
              },
              {
                "name": "Extract metadata (tags, labels) for Docker",
                "id": "meta",
                "uses": "docker/metadata-action@v5.5.1",
                "with": {
                  "images": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}"
                }
              },
              {
                "name": "Build and push Docker image",
                "uses": "docker/build-push-action@v5.3.0",
                "with": {
                  "context": ".",
                  "file": "Dockerfile_backend_ee",
                  "push": true,
                  "tags": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest, ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.event.release.tag_name }}",
                  "labels": "${{ steps.meta.outputs.labels }}"
                }
              }
            ]
          }
        }
      }
    },
    "2024-05-29T10-16-46Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "ee_backend_docker_release__2024-05-29T10-16-46Z__81710d3654fb852eb2e2db169a64d51c1b80a996.yml",
          "workflow_name": "EE Backend Publish docker image",
          "triggers": {},
          "permissions": null,
          "concurrency": null,
          "defaults": null,
          "line_count": 45,
          "num_jobs": 1,
          "steps_per_job": {
            "build-and-push-image": 4
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 0,
            "num_triggers_defined": 0
          },
          "job_level": {
            "num_steps_per_job": {
              "build-and-push-image": 4
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 4,
            "actions_used": [
              "actions/checkout@v4",
              "docker/build-push-action@v5.3.0",
              "docker/login-action@0d4c9c5ea7693da7b068278f7b52bda2a190a446",
              "docker/metadata-action@v5.5.1"
            ],
            "num_run_commands": 0,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "EE Backend Publish docker image",
        "true": {
          "release": {
            "types": [
              "released"
            ]
          }
        },
        "env": {
          "REGISTRY": "ghcr.io",
          "IMAGE_NAME": "${{ github.repository }}_backend_ee"
        },
        "jobs": {
          "build-and-push-image": {
            "if": "(startswith(github.event.release.tag_name, 'v'))",
            "runs-on": "ubuntu-latest",
            "permissions": {
              "contents": "read",
              "packages": "write"
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Log in to the Container registry",
                "uses": "docker/login-action@0d4c9c5ea7693da7b068278f7b52bda2a190a446",
                "with": {
                  "registry": "${{ env.REGISTRY }}",
                  "username": "${{ github.actor }}",
                  "password": "${{ secrets.GITHUB_TOKEN }}"
                }
              },
              {
                "name": "Extract metadata (tags, labels) for Docker",
                "id": "meta",
                "uses": "docker/metadata-action@v5.5.1",
                "with": {
                  "images": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}"
                }
              },
              {
                "name": "Build and push Docker image",
                "uses": "docker/build-push-action@v5.3.0",
                "with": {
                  "context": ".",
                  "file": "Dockerfile_backend_ee",
                  "push": true,
                  "tags": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest, ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.event.release.tag_name }}",
                  "labels": "${{ steps.meta.outputs.labels }}"
                }
              }
            ]
          }
        }
      }
    },
    "2024-06-12T09-30-15Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "ee_backend_docker_release__2024-06-12T09-30-15Z__d38a43b691445680c4ea4b481ee0a5def94b1a45.yml",
          "workflow_name": "EE Backend Publish docker image",
          "triggers": {
            "release": {
              "types": [
                "released"
              ]
            }
          },
          "permissions": null,
          "concurrency": null,
          "defaults": null,
          "line_count": 47,
          "num_jobs": 1,
          "steps_per_job": {
            "build-and-push-image": 4
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 0,
            "num_triggers_defined": 1
          },
          "job_level": {
            "num_steps_per_job": {
              "build-and-push-image": 4
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 4,
            "actions_used": [
              "actions/checkout@v4",
              "docker/build-push-action@v5.3.0",
              "docker/login-action@0d4c9c5ea7693da7b068278f7b52bda2a190a446",
              "docker/metadata-action@v5.5.1"
            ],
            "num_run_commands": 0,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "EE Backend Publish docker image",
        "true": {
          "release": {
            "types": [
              "released"
            ]
          }
        },
        "env": {
          "REGISTRY": "ghcr.io",
          "IMAGE_NAME": "${{ github.repository }}_backend_ee"
        },
        "jobs": {
          "build-and-push-image": {
            "if": "(startswith(github.event.release.tag_name, 'v'))",
            "runs-on": "ubuntu-latest",
            "permissions": {
              "contents": "read",
              "packages": "write"
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Log in to the Container registry",
                "uses": "docker/login-action@0d4c9c5ea7693da7b068278f7b52bda2a190a446",
                "with": {
                  "registry": "${{ env.REGISTRY }}",
                  "username": "${{ github.actor }}",
                  "password": "${{ secrets.GITHUB_TOKEN }}"
                }
              },
              {
                "name": "Extract metadata (tags, labels) for Docker",
                "id": "meta",
                "uses": "docker/metadata-action@v5.5.1",
                "with": {
                  "images": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}"
                }
              },
              {
                "name": "Build and push Docker image",
                "uses": "docker/build-push-action@v5.3.0",
                "with": {
                  "context": ".",
                  "file": "Dockerfile_backend_ee",
                  "push": true,
                  "tags": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest, ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.event.release.tag_name }}",
                  "labels": "${{ steps.meta.outputs.labels }}"
                }
              }
            ]
          }
        }
      }
    },
    "2024-11-04T17-27-21Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "ee_backend_docker_release__2024-11-04T17-27-21Z__bc9d12f438f6c608301f5ef8374baa64fe5ddd3f.yml",
          "workflow_name": "EE Backend Publish docker image",
          "triggers": {
            "release": {
              "types": [
                "released"
              ]
            }
          },
          "permissions": null,
          "concurrency": null,
          "defaults": null,
          "line_count": 47,
          "num_jobs": 1,
          "steps_per_job": {
            "build-and-push-image": 4
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 0,
            "num_triggers_defined": 1
          },
          "job_level": {
            "num_steps_per_job": {
              "build-and-push-image": 4
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 4,
            "actions_used": [
              "actions/checkout@v4",
              "docker/build-push-action@v5.3.0",
              "docker/login-action@06895751d15a223ec091bea144ad5c7f50d228d0",
              "docker/metadata-action@v5.5.1"
            ],
            "num_run_commands": 0,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "EE Backend Publish docker image",
        "true": {
          "release": {
            "types": [
              "released"
            ]
          }
        },
        "env": {
          "REGISTRY": "ghcr.io",
          "IMAGE_NAME": "${{ github.repository }}_backend_ee"
        },
        "jobs": {
          "build-and-push-image": {
            "if": "(startswith(github.event.release.tag_name, 'v'))",
            "runs-on": "ubuntu-latest",
            "permissions": {
              "contents": "read",
              "packages": "write"
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Log in to the Container registry",
                "uses": "docker/login-action@06895751d15a223ec091bea144ad5c7f50d228d0",
                "with": {
                  "registry": "${{ env.REGISTRY }}",
                  "username": "${{ github.actor }}",
                  "password": "${{ secrets.GITHUB_TOKEN }}"
                }
              },
              {
                "name": "Extract metadata (tags, labels) for Docker",
                "id": "meta",
                "uses": "docker/metadata-action@v5.5.1",
                "with": {
                  "images": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}"
                }
              },
              {
                "name": "Build and push Docker image",
                "uses": "docker/build-push-action@v5.3.0",
                "with": {
                  "context": ".",
                  "file": "Dockerfile_backend_ee",
                  "push": true,
                  "tags": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest, ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.event.release.tag_name }}",
                  "labels": "${{ steps.meta.outputs.labels }}"
                }
              }
            ]
          }
        }
      }
    },
    "2024-11-11T12-06-03Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "ee_backend_docker_release__2024-11-11T12-06-03Z__cc07a0f8daff44e60a1aa8a976262650bd062716.yml",
          "workflow_name": "EE Backend Publish docker image",
          "triggers": {
            "release": {
              "types": [
                "released"
              ]
            }
          },
          "permissions": null,
          "concurrency": null,
          "defaults": null,
          "line_count": 47,
          "num_jobs": 1,
          "steps_per_job": {
            "build-and-push-image": 4
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 0,
            "num_triggers_defined": 1
          },
          "job_level": {
            "num_steps_per_job": {
              "build-and-push-image": 4
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 4,
            "actions_used": [
              "actions/checkout@v4",
              "docker/build-push-action@v5.3.0",
              "docker/login-action@7ca345011ac4304463197fac0e56eab1bc7e6af0",
              "docker/metadata-action@v5.5.1"
            ],
            "num_run_commands": 0,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "EE Backend Publish docker image",
        "true": {
          "release": {
            "types": [
              "released"
            ]
          }
        },
        "env": {
          "REGISTRY": "ghcr.io",
          "IMAGE_NAME": "${{ github.repository }}_backend_ee"
        },
        "jobs": {
          "build-and-push-image": {
            "if": "(startswith(github.event.release.tag_name, 'v'))",
            "runs-on": "ubuntu-latest",
            "permissions": {
              "contents": "read",
              "packages": "write"
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Log in to the Container registry",
                "uses": "docker/login-action@7ca345011ac4304463197fac0e56eab1bc7e6af0",
                "with": {
                  "registry": "${{ env.REGISTRY }}",
                  "username": "${{ github.actor }}",
                  "password": "${{ secrets.GITHUB_TOKEN }}"
                }
              },
              {
                "name": "Extract metadata (tags, labels) for Docker",
                "id": "meta",
                "uses": "docker/metadata-action@v5.5.1",
                "with": {
                  "images": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}"
                }
              },
              {
                "name": "Build and push Docker image",
                "uses": "docker/build-push-action@v5.3.0",
                "with": {
                  "context": ".",
                  "file": "Dockerfile_backend_ee",
                  "push": true,
                  "tags": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest, ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.event.release.tag_name }}",
                  "labels": "${{ steps.meta.outputs.labels }}"
                }
              }
            ]
          }
        }
      }
    },
    "2025-03-24T18-14-05Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "ee_backend_docker_release__2025-03-24T18-14-05Z__887fd51109186a2cc9d9fe3b5607e808a8f1edc7.yml",
          "workflow_name": "EE Backend Publish docker image",
          "triggers": {
            "release": {
              "types": [
                "released"
              ]
            }
          },
          "permissions": null,
          "concurrency": null,
          "defaults": null,
          "line_count": 47,
          "num_jobs": 1,
          "steps_per_job": {
            "build-and-push-image": 4
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 0,
            "num_triggers_defined": 1
          },
          "job_level": {
            "num_steps_per_job": {
              "build-and-push-image": 4
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 4,
            "actions_used": [
              "actions/checkout@v4",
              "docker/build-push-action@v5.3.0",
              "docker/login-action@74a5d142397b4f367a81961eba4e8cd7edddf772",
              "docker/metadata-action@v5.5.1"
            ],
            "num_run_commands": 0,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "EE Backend Publish docker image",
        "true": {
          "release": {
            "types": [
              "released"
            ]
          }
        },
        "env": {
          "REGISTRY": "ghcr.io",
          "IMAGE_NAME": "${{ github.repository }}_backend_ee"
        },
        "jobs": {
          "build-and-push-image": {
            "if": "(startswith(github.event.release.tag_name, 'v'))",
            "runs-on": "ubuntu-latest",
            "permissions": {
              "contents": "read",
              "packages": "write"
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Log in to the Container registry",
                "uses": "docker/login-action@74a5d142397b4f367a81961eba4e8cd7edddf772",
                "with": {
                  "registry": "${{ env.REGISTRY }}",
                  "username": "${{ github.actor }}",
                  "password": "${{ secrets.GITHUB_TOKEN }}"
                }
              },
              {
                "name": "Extract metadata (tags, labels) for Docker",
                "id": "meta",
                "uses": "docker/metadata-action@v5.5.1",
                "with": {
                  "images": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}"
                }
              },
              {
                "name": "Build and push Docker image",
                "uses": "docker/build-push-action@v5.3.0",
                "with": {
                  "context": ".",
                  "file": "Dockerfile_backend_ee",
                  "push": true,
                  "tags": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest, ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.event.release.tag_name }}",
                  "labels": "${{ steps.meta.outputs.labels }}"
                }
              }
            ]
          }
        }
      }
    },
    "2025-05-20T19-00-34Z": {
      "vulnerability_list": [],
      "workflow_metadata": {
        "workflow_metadata": {
          "file_name": "ee_backend_docker_release__2025-05-20T19-00-34Z__91d39e1401deb5cb4951fca0466efae4c8236122.yml",
          "workflow_name": "EE Backend Publish docker image",
          "triggers": {
            "release": {
              "types": [
                "released"
              ]
            }
          },
          "permissions": null,
          "concurrency": null,
          "defaults": null,
          "line_count": 49,
          "num_jobs": 1,
          "steps_per_job": {
            "build-and-push-image": 4
          }
        },
        "workflow_metrics": {
          "workflow_level": {
            "num_jobs": 1,
            "num_dependencies_between_jobs": 0,
            "num_matrix_strategies": 0,
            "num_triggers_defined": 1
          },
          "job_level": {
            "num_steps_per_job": {
              "build-and-push-image": 4
            },
            "jobs_with_timeout": 0,
            "jobs_with_continue_on_error": 0,
            "num_distinct_runs_on": 1,
            "jobs_with_container": 0,
            "jobs_with_services": 0
          },
          "step_level": {
            "num_actions_uses": 4,
            "actions_used": [
              "actions/checkout@v4",
              "docker/build-push-action@v5.3.0",
              "docker/login-action@74a5d142397b4f367a81961eba4e8cd7edddf772",
              "docker/metadata-action@v5.5.1"
            ],
            "num_run_commands": 0,
            "steps_with_conditionals": 0,
            "steps_with_continue_on_error": 0
          }
        }
      },
      "workflow_json": {
        "name": "EE Backend Publish docker image",
        "true": {
          "release": {
            "types": [
              "released"
            ]
          }
        },
        "env": {
          "REGISTRY": "ghcr.io",
          "IMAGE_NAME": "${{ github.repository }}_backend_ee"
        },
        "jobs": {
          "build-and-push-image": {
            "if": "(startswith(github.event.release.tag_name, 'v'))",
            "runs-on": "ubuntu-latest",
            "permissions": {
              "contents": "read",
              "packages": "write"
            },
            "steps": [
              {
                "name": "Checkout repository",
                "uses": "actions/checkout@v4"
              },
              {
                "name": "Log in to the Container registry",
                "uses": "docker/login-action@74a5d142397b4f367a81961eba4e8cd7edddf772",
                "with": {
                  "registry": "${{ env.REGISTRY }}",
                  "username": "${{ github.actor }}",
                  "password": "${{ secrets.GITHUB_TOKEN }}"
                }
              },
              {
                "name": "Extract metadata (tags, labels) for Docker",
                "id": "meta",
                "uses": "docker/metadata-action@v5.5.1",
                "with": {
                  "images": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}"
                }
              },
              {
                "name": "Build and push Docker image",
                "uses": "docker/build-push-action@v5.3.0",
                "with": {
                  "context": ".",
                  "file": "Dockerfile_backend_ee",
                  "push": true,
                  "tags": "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest, ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.event.release.tag_name }}",
                  "labels": "${{ steps.meta.outputs.labels }}"
                }
              }
            ]
          }
        }
      }
    }
  }
}